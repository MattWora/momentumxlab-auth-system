<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login ‚Äì MomentumXLab</title>
  <link rel="icon" href="favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet" />
  <style>
    body {
      background: radial-gradient(circle at top, #1e1e2f, #0f0f1b);
      font-family: 'Orbitron', sans-serif;
      color: #f0f0f0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .login-box {
      background: rgba(0, 0, 0, 0.6);
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 0 12px #d4af37;
      width: 320px;
    }
    h1 {
      text-align: center;
      font-size: 20px;
      margin-bottom: 30px;
    }
    input, button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 6px;
      font-size: 14px;
    }
    input {
      background: #2d2d42;
      color: #fff;
    }
    button {
      background: linear-gradient(135deg, #d4af37, #89753f);
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    button:hover {
      background: linear-gradient(135deg, #e6c85b, #a88f4f);
    }
    .signup-link {
      text-align: center;
      font-size: 13px;
      margin-top: 12px;
    }
    .signup-link a {
      color: #f5d76e;
      text-decoration: underline;
    }
    #status {
      min-height: 20px;
      margin-top: 8px;
      text-align: center;
      color: orange;
    }
  </style>
</head>
<body>
  <div class="login-box">
    <h1>Log In to MomentumXLab</h1>
    <input type="email" id="email" placeholder="Email" required />
    <input type="password" id="password" placeholder="Password" required />
    <button id="btn-login">üöÄ LOGIN</button>
    <p id="status"></p>
    <p class="signup-link">
      ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°? <a href="signup.html">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</a>
    </p>
  </div>

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    const firebaseConfig = {/* your config here */};
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    const emailInput = document.getElementById('email');
    const passInput  = document.getElementById('password');
    const btnLogin   = document.getElementById('btn-login');
    const statusEl   = document.getElementById('status');

    const redirectTo = 'dashboard.html';

    btnLogin.addEventListener('click', async () => {
      const email = emailInput.value.trim();
      const password = passInput.value;

      statusEl.textContent = '';
      btnLogin.disabled = true;

      if (!email || !password) {
        statusEl.textContent = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö';
        btnLogin.disabled = false;
        return;
      }

      try {
        await auth.signInWithEmailAndPassword(email, password);
        await Swal.fire('Success','Logged in successfully!','success');
        window.open(redirectTo, '_blank'); // ‡πÄ‡∏õ‡∏¥‡∏î dashboard ‡πÅ‡∏ó‡πá‡∏ö‡πÉ‡∏´‡∏°‡πà
      } catch (err) {
        if (err.code === 'auth/user-not-found') {
          const { isConfirmed } = await Swal.fire({
            icon: 'warning',
            title: '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ô‡∏µ‡πâ',
            text: '‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?',
            confirmButtonText: '‡πÑ‡∏õ‡∏™‡∏°‡∏±‡∏Ñ‡∏£',
            showCancelButton: true,
            cancelButtonText: '‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å'
          });
          if (isConfirmed) {
            window.location.href = 'signup.html';
          }
        }
        else if (err.code === 'auth/wrong-password') {
          statusEl.textContent = '‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á';
        }
        else {
          statusEl.textContent = err.message;
        }
      }
      finally {
        btnLogin.disabled = false;
      }
    });
  </script>
</body>
</html>
